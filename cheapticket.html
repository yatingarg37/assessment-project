<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Cheap Tickets</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/nonstop.css">

</head>
<body style="background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),url('IAG.jpg');">
    <section >
            <h1 style="text-align:center;color: #fff";>Cheap Tickets</h1>
            <div class="div1" style="left:43%;">
            <input type="text" placeholder="Orgin Code" id="orgcd" style="text-align: center;padding: 10px;"/>
        </div>
        <input type="button" value="SUBMIT" onclick="function1()" class="btn" style="left: 42%;"/>
        </section>
        <h1 class="tname">AIRLINE</h1>
        <h1 id="ans"></h1>
        <h1 class="tnum">FLIGHT NUMBER</h1>
        <h1 id="num"></h1>
        <h1 class="tnum1">PRICE</h1>
        <h1 id="num1"></h1>
        <script>
   function function1(){
       var orgcd = document.getElementById("orgcd").value
       var name=document.getElementById("ans")
var num=document.getElementById("num")
var num1=document.getElementById("num1")
    var url = "https://travelpayouts-travelpayouts-flight-data-v1.p.rapidapi.com/v1/prices/cheap?destination=-&origin="+orgcd+"&currency=INR&page=None"
        var xhr = new XMLHttpRequest()
        xhr.open('GET',url)
        xhr.onreadystatechange = test
        function test() {
            if(this.status==200 && this .readyState==4) {
            var res_data = JSON.parse(this.responseText)
            console.log(res_data)
            var x =res_data.data.AGP[2].airline;
            var x1 =res_data.data.AGP[2].flight_number;
            var x2 =res_data.data.AGP[2].price;
            console.log(x)
            name.append(x)
                             num.append(x1)
                             num1.append(x2)
            
            } }

xhr.open("GET", "https://travelpayouts-travelpayouts-flight-data-v1.p.rapidapi.com/v1/prices/cheap?destination=-&origin="+orgcd+"&currency=INR&page=None");
xhr.setRequestHeader("x-rapidapi-host", "travelpayouts-travelpayouts-flight-data-v1.p.rapidapi.com");
xhr.setRequestHeader("x-rapidapi-key", "f45438510emsh657b8da083cb49dp14cfbbjsnf869defa4df8");
xhr.setRequestHeader("x-access-token", "4c67bbe39a1e1ea3b8e02452ab7c00f7");

xhr.send();}
        </script>
    
</body>
</html>
